{
  "ref": "e5a9b91ffd2597ed9bdc41563964246c38413125",
  "nextjsVersion": "Next.js v13.1.7-canary.8",
  "result": [
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (16, 1)",
      "name": "test/development/acceptance-app/component-stack.test.ts",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 1,
        "numPassedTestSuites": 0,
        "numPassedTests": 0,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 1,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676026655250,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "Error Overlay unsupported app features"
                ],
                "failureMessages": [
                  "TypeError: Cannot read properties of null (reading 'includes')\n    at _default (/work/node_modules/.pnpm/jest-extended@1.2.1/node_modules/jest-extended/dist/matchers/toInclude/predicate.js:8:46)\n    at Object.toInclude (/work/node_modules/.pnpm/jest-extended@1.2.1/node_modules/jest-extended/dist/matchers/toInclude/index.js:19:39)\n    at __EXTERNAL_MATCHER_TRAP__ (/work/node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:386:30)\n    at Object.toInclude (/work/node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:387:15)\n    at Object.<anonymous> (/work/test/development/acceptance-app/unsupported-app-features.test.ts:34:52)"
                ],
                "fullName": "Error Overlay unsupported app features should show error exporting AMP config in app dir",
                "location": null,
                "status": "failed",
                "title": "should show error exporting AMP config in app dir"
              }
            ],
            "endTime": 1676026721469,
            "message": "  ● Error Overlay unsupported app features › should show error exporting AMP config in app dir\n\n    TypeError: Cannot read properties of null (reading 'includes')\n\n      32 |\n      33 |       await session.hasRedbox(true)\n    > 34 |       expect(await session.getRedboxDescription()).toInclude(\n         |                                                    ^\n      35 |         'AMP is not supported in the app directory. If you need to use AMP it will continue to be supported in the pages directory.'\n      36 |       )\n      37 |\n\n      at _default (../node_modules/.pnpm/jest-extended@1.2.1/node_modules/jest-extended/dist/matchers/toInclude/predicate.js:8:46)\n      at __EXTERNAL_MATCHER_TRAP__ (../node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:386:30)\n      at Object.toInclude (../node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:387:15)\n      at Object.<anonymous> (development/acceptance-app/unsupported-app-features.test.ts:34:52)\n",
            "name": "/work/test/development/acceptance-app/unsupported-app-features.test.ts",
            "startTime": 1676026655345,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (16, 1)",
      "name": "test/e2e/manual-client-base-path/index.test.ts",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 3,
        "numPassedTestSuites": 0,
        "numPassedTests": 0,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 3,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676027754498,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "@next/font/google with-font-declarations-file"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 4\nReceived: 0\n    at Object.<anonymous> (/work/test/e2e/next-font/with-font-declarations-file.test.ts:59:43)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"
                ],
                "fullName": "@next/font/google with-font-declarations-file preload correct files at /inter",
                "location": null,
                "status": "failed",
                "title": "preload correct files at /inter"
              },
              {
                "ancestorTitles": [
                  "@next/font/google with-font-declarations-file"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 4\nReceived: 0\n    at Object.<anonymous> (/work/test/e2e/next-font/with-font-declarations-file.test.ts:93:43)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"
                ],
                "fullName": "@next/font/google with-font-declarations-file preload correct files at /roboto",
                "location": null,
                "status": "failed",
                "title": "preload correct files at /roboto"
              },
              {
                "ancestorTitles": [
                  "@next/font/google with-font-declarations-file"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 4\nReceived: 0\n    at Object.<anonymous> (/work/test/e2e/next-font/with-font-declarations-file.test.ts:127:43)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"
                ],
                "fullName": "@next/font/google with-font-declarations-file preload correct files at /local-font",
                "location": null,
                "status": "failed",
                "title": "preload correct files at /local-font"
              }
            ],
            "endTime": 1676027777642,
            "message": "  ● @next/font/google with-font-declarations-file › preload correct files at /inter\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 4\n    Received: 0\n\n      57 |     if (isDev) {\n      58 |       // In dev all fonts will be preloaded since it's before DCE\n    > 59 |       expect($('link[as=\"font\"]').length).toBe(4)\n         |                                           ^\n      60 |     } else {\n      61 |       // Preload\n      62 |       expect($('link[as=\"font\"]').length).toBe(2)\n\n      at Object.<anonymous> (e2e/next-font/with-font-declarations-file.test.ts:59:43)\n\n  ● @next/font/google with-font-declarations-file › preload correct files at /roboto\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 4\n    Received: 0\n\n      91 |     if (isDev) {\n      92 |       // In dev all fonts will be preloaded since it's before DCE\n    > 93 |       expect($('link[as=\"font\"]').length).toBe(4)\n         |                                           ^\n      94 |     } else {\n      95 |       // Preload\n      96 |       expect($('link[as=\"font\"]').length).toBe(2)\n\n      at Object.<anonymous> (e2e/next-font/with-font-declarations-file.test.ts:93:43)\n\n  ● @next/font/google with-font-declarations-file › preload correct files at /local-font\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 4\n    Received: 0\n\n      125 |     if (isDev) {\n      126 |       // In dev all fonts will be preloaded since it's before DCE\n    > 127 |       expect($('link[as=\"font\"]').length).toBe(4)\n          |                                           ^\n      128 |     } else {\n      129 |       // Preload\n      130 |       expect($('link[as=\"font\"]').length).toBe(2)\n\n      at Object.<anonymous> (e2e/next-font/with-font-declarations-file.test.ts:127:43)\n",
            "name": "/work/test/e2e/next-font/with-font-declarations-file.test.ts",
            "startTime": 1676027754599,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (16, 1)",
      "name": "test/integration/hashbang/test/index.test.js",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 1,
        "numPassedTestSuites": 0,
        "numPassedTests": 12,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 13,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676028084119,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /blog/another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /blog/first-post/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/first-post/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /catch-all/hello/world/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/hello/world/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /catch-all/first/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/first/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [
                  "page.waitForSelector: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator('#slug')\n============================================================\n    at /work/test/lib/browsers/playwright.ts:331:10"
                ],
                "fullName": "href resolving trailing-slash dev mode should route to /top-level-slug/ correctly",
                "location": null,
                "status": "failed",
                "title": "should route to /top-level-slug/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /blog/another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /blog/first-post/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/first-post/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /catch-all/hello/world/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/hello/world/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /catch-all/first/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/first/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /top-level-slug/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /top-level-slug/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should preload SSG routes correctly",
                "location": null,
                "status": "passed",
                "title": "should preload SSG routes correctly"
              }
            ],
            "endTime": 1676028203564,
            "message": "  ● href resolving trailing-slash › dev mode › should route to /top-level-slug/ correctly\n\n    page.waitForSelector: Timeout 30000ms exceeded.\n    =========================== logs ===========================\n    waiting for locator('#slug')\n    ============================================================\n\n      329 |     return this.chain(() => {\n      330 |       return page\n    > 331 |         .waitForSelector(selector, { timeout, state: 'attached' })\n          |          ^\n      332 |         .then(async (el) => {\n      333 |           // it seems selenium waits longer and tests rely on this behavior\n      334 |           // so we wait for the load event fire before returning\n\n      at lib/browsers/playwright.ts:331:10\n",
            "name": "/work/test/integration/trailing-slashes-href-resolving/test/index.test.js",
            "startTime": 1676028084211,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (16, 2)",
      "name": "test/development/acceptance-app/editor-links.test.ts",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 11,
        "numPassedTestSuites": 0,
        "numPassedTests": 0,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 11,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676026653909,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:32:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when getServerSideProps is used",
                "location": null,
                "status": "failed",
                "title": "should throw an error when getServerSideProps is used"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:56:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when getStaticProps is used",
                "location": null,
                "status": "failed",
                "title": "should throw an error when getStaticProps is used"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:76:45)"
                ],
                "fullName": "Error overlay - RSC build errors should error for styled-jsx imports on server side",
                "location": null,
                "status": "failed",
                "title": "should error for styled-jsx imports on server side"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:104:45)"
                ],
                "fullName": "Error overlay - RSC build errors should error when page component export is not valid",
                "location": null,
                "status": "failed",
                "title": "should error when page component export is not valid"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:124:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when \"use client\" is on the top level but after other expressions",
                "location": null,
                "status": "failed",
                "title": "should throw an error when \"use client\" is on the top level but after other expressions"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: Application is in inconsistent state: timeout.\n    at Object.patch (/work/test/development/acceptance-app/helpers.ts:78:19)\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:145:7)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when \"Component\" is imported in server components",
                "location": null,
                "status": "failed",
                "title": "should throw an error when \"Component\" is imported in server components"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toInclude(expected)\n\nExpected string to include:\n  \"You're importing a component that imports client-only. It only works in a Client Component but none of its parents are marked with \\\"use client\\\", so they're Server Components by default.\"\nReceived:\n  \"error - [resolve] [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js  Error resolving EcmaScript Modules request\n  unable to resolve module \\\"client-only\\\"···\n  | It was not possible to find the requested file.\n  | Parsed request as written in source code: module \\\"client-only\\\"\n  | Path where resolving has started: [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js\n  | Type of request: EcmaScript Modules request\n  | Import map: No import map entry\n  |·\n\"\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:172:47)"
                ],
                "fullName": "Error overlay - RSC build errors should allow to use and handle rsc poisoning client-only",
                "location": null,
                "status": "failed",
                "title": "should allow to use and handle rsc poisoning client-only"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: Application is in inconsistent state: timeout.\n    at Object.patch (/work/test/development/acceptance-app/helpers.ts:78:19)\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:194:7)"
                ],
                "fullName": "Error overlay - RSC build errors should allow to use and handle rsc poisoning server-only",
                "location": null,
                "status": "failed",
                "title": "should allow to use and handle rsc poisoning server-only"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:218:45)"
                ],
                "fullName": "Error overlay - RSC build errors should error for invalid undefined module retuning from next dynamic",
                "location": null,
                "status": "failed",
                "title": "should error for invalid undefined module retuning from next dynamic"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:239:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when error file is a server component",
                "location": null,
                "status": "failed",
                "title": "should throw an error when error file is a server component"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: Application is in inconsistent state: timeout.\n    at Object.patch (/work/test/development/acceptance-app/helpers.ts:78:19)\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:303:7)"
                ],
                "fullName": "Error overlay - RSC build errors should be possible to open the import trace files in your editor",
                "location": null,
                "status": "failed",
                "title": "should be possible to open the import trace files in your editor"
              }
            ],
            "endTime": 1676027176679,
            "message": "  ● Error overlay - RSC build errors › should throw an error when getServerSideProps is used\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      30 |       await session.patch(pageFile, uncomment)\n      31 |\n    > 32 |       expect(await session.hasRedbox(true)).toBe(true)\n         |                                             ^\n      33 |       expect(await session.getRedboxSource()).toInclude(\n      34 |         '\"getServerSideProps\" is not supported in app/'\n      35 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:32:45)\n\n  ● Error overlay - RSC build errors › should throw an error when getStaticProps is used\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      54 |       await next.patchFile(pageFile, content)\n      55 |\n    > 56 |       expect(await session.hasRedbox(true)).toBe(true)\n         |                                             ^\n      57 |       expect(await session.getRedboxSource()).toInclude(\n      58 |         '\"getStaticProps\" is not supported in app/'\n      59 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:56:45)\n\n  ● Error overlay - RSC build errors › should error for styled-jsx imports on server side\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      74 |       await session.patch(pageFile, withoutUseClient)\n      75 |\n    > 76 |       expect(await session.hasRedbox(true)).toBe(true)\n         |                                             ^\n      77 |       expect(await session.getRedboxSource()).toMatchInlineSnapshot(`\n      78 |         \"app/server-with-errors/styled-jsx/comp2.js\n      79 |         'client-only' cannot be imported from a Server Component module. It should only be used from a Client Component.\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:76:45)\n\n  ● Error overlay - RSC build errors › should error when page component export is not valid\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      102 |       )\n      103 |\n    > 104 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      105 |       expect(await session.getRedboxDescription()).toInclude(\n      106 |         'The default export is not a React Component in page:'\n      107 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:104:45)\n\n  ● Error overlay - RSC build errors › should throw an error when \"use client\" is on the top level but after other expressions\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      122 |       await next.patchFile(pageFile, uncomment)\n      123 |\n    > 124 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      125 |       expect(await session.getRedboxSource()).toInclude(\n      126 |         'directive must be placed before other expressions'\n      127 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:124:45)\n\n  ● Error overlay - RSC build errors › should throw an error when \"Component\" is imported in server components\n\n    Application is in inconsistent state: timeout.\n\n      76 |           }\n      77 |           if (status !== 'pending') {\n    > 78 |             throw new Error(`Application is in inconsistent state: ${status}.`)\n         |                   ^\n      79 |           }\n      80 |\n      81 |           await new Promise((resolve) => setTimeout(resolve, 30))\n\n      at Object.patch (development/acceptance-app/helpers.ts:78:19)\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:145:7)\n\n  ● Error overlay - RSC build errors › should allow to use and handle rsc poisoning client-only\n\n    expect(received).toInclude(expected)\n\n    Expected string to include:\n      \"You're importing a component that imports client-only. It only works in a Client Component but none of its parents are marked with \\\"use client\\\", so they're Server Components by default.\"\n    Received:\n      \"error - [resolve] [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js  Error resolving EcmaScript Modules request\n      unable to resolve module \\\"client-only\\\"···\n      | It was not possible to find the requested file.\n      | Parsed request as written in source code: module \\\"client-only\\\"\n      | Path where resolving has started: [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js\n      | Type of request: EcmaScript Modules request\n      | Import map: No import map entry\n      |·\n    \"\n\n      170 |\n      171 |       expect(await session.hasRedbox(true)).toBe(true)\n    > 172 |       expect(await session.getRedboxSource()).toInclude(\n          |                                               ^\n      173 |         `You're importing a component that imports client-only. It only works in a Client Component but none of its parents are marked with \"use client\", so they're Server Components by default.`\n      174 |       )\n      175 |\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:172:47)\n\n  ● Error overlay - RSC build errors › should allow to use and handle rsc poisoning server-only\n\n    Application is in inconsistent state: timeout.\n\n      76 |           }\n      77 |           if (status !== 'pending') {\n    > 78 |             throw new Error(`Application is in inconsistent state: ${status}.`)\n         |                   ^\n      79 |           }\n      80 |\n      81 |           await new Promise((resolve) => setTimeout(resolve, 30))\n\n      at Object.patch (development/acceptance-app/helpers.ts:78:19)\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:194:7)\n\n  ● Error overlay - RSC build errors › should error for invalid undefined module retuning from next dynamic\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      216 |       )\n      217 |\n    > 218 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      219 |       expect(await session.getRedboxDescription()).toInclude(\n      220 |         `Element type is invalid. Received a promise that resolves to: undefined. Lazy element type must resolve to a class or function.`\n      221 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:218:45)\n\n  ● Error overlay - RSC build errors › should throw an error when error file is a server component\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      237 |       )\n      238 |\n    > 239 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      240 |       expect(await session.getRedboxSource()).toMatchInlineSnapshot(`\n      241 |         \"./app/server-with-errors/error-file/error.js\n      242 |         ReactServerComponentsError:\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:239:45)\n\n  ● Error overlay - RSC build errors › should be possible to open the import trace files in your editor\n\n    Application is in inconsistent state: timeout.\n\n      76 |           }\n      77 |           if (status !== 'pending') {\n    > 78 |             throw new Error(`Application is in inconsistent state: ${status}.`)\n         |                   ^\n      79 |           }\n      80 |\n      81 |           await new Promise((resolve) => setTimeout(resolve, 30))\n\n      at Object.patch (development/acceptance-app/helpers.ts:78:19)\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:303:7)\n",
            "name": "/work/test/development/acceptance-app/rsc-build-errors.test.ts",
            "startTime": 1676026654003,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (16, 2)",
      "name": "test/integration/config/test/index.test.js",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 5,
        "numPassedTestSuites": 0,
        "numPassedTests": 37,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 42,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676028178415,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can print telemetry status",
                "location": null,
                "status": "passed",
                "title": "can print telemetry status"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can enable telemetry with flag",
                "location": null,
                "status": "passed",
                "title": "can enable telemetry with flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can disable telemetry with flag",
                "location": null,
                "status": "passed",
                "title": "can disable telemetry with flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can enable telemetry without flag",
                "location": null,
                "status": "passed",
                "title": "can enable telemetry without flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can re-enable telemetry",
                "location": null,
                "status": "passed",
                "title": "can re-enable telemetry"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can disable telemetry without flag",
                "location": null,
                "status": "passed",
                "title": "can disable telemetry without flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can re-disable telemetry",
                "location": null,
                "status": "passed",
                "title": "can re-disable telemetry"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can disable telemetry with env NEXT_TELEMETRY_DISABLED",
                "location": null,
                "status": "passed",
                "title": "can disable telemetry with env NEXT_TELEMETRY_DISABLED"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detects isSrcDir dir correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detects isSrcDir dir correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits event when swc fails to load",
                "location": null,
                "status": "passed",
                "title": "emits event when swc fails to load"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI logs completed `next build` with warnings",
                "location": null,
                "status": "passed",
                "title": "logs completed `next build` with warnings"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detects tests correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detects tests correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detects correct cli session defaults",
                "location": null,
                "status": "passed",
                "title": "detects correct cli session defaults"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI cli session: babel tooling config",
                "location": null,
                "status": "passed",
                "title": "cli session: babel tooling config"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI cli session: custom babel config (plugin)",
                "location": null,
                "status": "passed",
                "title": "cli session: custom babel config (plugin)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI cli session: package.json custom babel config (plugin)",
                "location": null,
                "status": "passed",
                "title": "cli session: package.json custom babel config (plugin)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI cli session: custom babel config (preset)",
                "location": null,
                "status": "passed",
                "title": "cli session: custom babel config (preset)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI cli session: next config with webpack",
                "location": null,
                "status": "passed",
                "title": "cli session: next config with webpack"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detect static 404 correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detect static 404 correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detect page counts correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detect page counts correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: expect(received).toMatch(expected)\n\nExpected pattern: /isSrcDir.*?false/\nReceived string:  \"Loading custom turbopack binary from /work/next-dev\nRunning turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 40627 --root /work --no-open]\n\"\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:389:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"
                ],
                "fullName": "Telemetry CLI detects isSrcDir dir correctly for `next dev`",
                "location": null,
                "status": "failed",
                "title": "detects isSrcDir dir correctly for `next dev`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "TypeError: Cannot read properties of null (reading 'pop')\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:460:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"
                ],
                "fullName": "Telemetry CLI detects --turbo correctly for `next dev`",
                "location": null,
                "status": "failed",
                "title": "detects --turbo correctly for `next dev`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: TIMED OUT: /NEXT_CLI_SESSION_STARTED/\n\nLoading custom turbopack binary from /work/next-dev\nRunning turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 41687 --root /work --no-open]\n\n    at check (/work/test/lib/next-test-utils.js:561:11)\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:488:7)"
                ],
                "fullName": "Telemetry CLI detects --turbo correctly for `next dev` stopped",
                "location": null,
                "status": "failed",
                "title": "detects --turbo correctly for `next dev` stopped"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: TIMED OUT: /NEXT_CLI_SESSION_STARTED/\n\nLoading custom turbopack binary from /work/next-dev\nRunning turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 43809 --root /work --no-open]\n\n    at check (/work/test/lib/next-test-utils.js:561:11)\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:527:7)"
                ],
                "fullName": "Telemetry CLI detects correctly for `next dev` stopped (no turbo)",
                "location": null,
                "status": "failed",
                "title": "detects correctly for `next dev` stopped (no turbo)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI should detect app page counts",
                "location": null,
                "status": "passed",
                "title": "should detect app page counts"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detect reportWebVitals correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detect reportWebVitals correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detects rewrites, headers, and redirects for next build",
                "location": null,
                "status": "passed",
                "title": "detects rewrites, headers, and redirects for next build"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "TypeError: Cannot read properties of null (reading 'pop')\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:761:13)"
                ],
                "fullName": "Telemetry CLI detects i18n and image configs for session start",
                "location": null,
                "status": "failed",
                "title": "detects i18n and image configs for session start"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for lint during build",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for lint during build"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for lint during build when '--no-lint' is specified",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for lint during build when '--no-lint' is specified"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for lint during build when 'ignoreDuringBuilds' is specified",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for lint during build when 'ignoreDuringBuilds' is specified"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for `next lint`",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for `next lint`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemery for usage of optimizeFonts, image, script & dynamic",
                "location": null,
                "status": "passed",
                "title": "emits telemery for usage of optimizeFonts, image, script & dynamic"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of swc",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of swc"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of `optimizeCss`",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of `optimizeCss`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of `nextScriptWorkers`",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of `nextScriptWorkers`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of middleware",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of middleware"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of swc plugins",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of swc plugins"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of next/legacy/image",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of next/legacy/image"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of @vercel/og",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of @vercel/og"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for transpilePackages",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for transpilePackages"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for middleware related options",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for middleware related options"
              }
            ],
            "endTime": 1676028525043,
            "message": "  ● Telemetry CLI › detects isSrcDir dir correctly for `next dev`\n\n    expect(received).toMatch(expected)\n\n    Expected pattern: /isSrcDir.*?false/\n    Received string:  \"Loading custom turbopack binary from /work/next-dev\n    Running turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 40627 --root /work --no-open]\n    \"\n\n      387 |     await waitFor(1000)\n      388 |     await killApp(app)\n    > 389 |     expect(stderr).toMatch(/isSrcDir.*?false/)\n          |                    ^\n      390 |\n      391 |     await fs.move(path.join(appDir, 'pages'), path.join(appDir, 'src/pages'))\n      392 |     stderr = ''\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:389:20)\n\n  ● Telemetry CLI › detects --turbo correctly for `next dev`\n\n    TypeError: Cannot read properties of null (reading 'pop')\n\n      458 |       }\n      459 |       const event1 = /NEXT_CLI_SESSION_STARTED[\\s\\S]+?{([\\s\\S]+?)}/\n    > 460 |         .exec(stderr)\n          |               ^\n      461 |         .pop()\n      462 |\n      463 |       expect(event1).toMatch(/\"pagesDir\": true/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:460:15)\n\n  ● Telemetry CLI › detects --turbo correctly for `next dev` stopped\n\n    TIMED OUT: /NEXT_CLI_SESSION_STARTED/\n\n    Loading custom turbopack binary from /work/next-dev\n    Running turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 41687 --root /work --no-open]\n\n      559 |\n      560 |   if (hardError) {\n    > 561 |     throw new Error('TIMED OUT: ' + regex + '\\n\\n' + content)\n          |           ^\n      562 |   }\n      563 |   return false\n      564 | }\n\n      at check (lib/next-test-utils.js:561:11)\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:488:7)\n\n  ● Telemetry CLI › detects correctly for `next dev` stopped (no turbo)\n\n    TIMED OUT: /NEXT_CLI_SESSION_STARTED/\n\n    Loading custom turbopack binary from /work/next-dev\n    Running turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 43809 --root /work --no-open]\n\n      559 |\n      560 |   if (hardError) {\n    > 561 |     throw new Error('TIMED OUT: ' + regex + '\\n\\n' + content)\n          |           ^\n      562 |   }\n      563 |   return false\n      564 | }\n\n      at check (lib/next-test-utils.js:561:11)\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:527:7)\n\n  ● Telemetry CLI › detects i18n and image configs for session start\n\n    TypeError: Cannot read properties of null (reading 'pop')\n\n      759 |\n      760 |     const event2 = /NEXT_CLI_SESSION_STARTED[\\s\\S]+?{([\\s\\S]+?)}/\n    > 761 |       .exec(stderr2)\n          |             ^\n      762 |       .pop()\n      763 |     expect(event2).toMatch(/\"i18nEnabled\": true/)\n      764 |     expect(event2).toMatch(/\"locales\": \"en,nl,fr\"/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:761:13)\n",
            "name": "/work/test/integration/telemetry/test/index.test.js",
            "startTime": 1676028178507,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (18, 1)",
      "name": "test/development/acceptance-app/component-stack.test.ts",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 1,
        "numPassedTestSuites": 0,
        "numPassedTests": 0,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 1,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676026646385,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "Error Overlay unsupported app features"
                ],
                "failureMessages": [
                  "TypeError: Cannot read properties of null (reading 'includes')\n    at _default (/work/node_modules/.pnpm/jest-extended@1.2.1/node_modules/jest-extended/dist/matchers/toInclude/predicate.js:8:46)\n    at Object.toInclude (/work/node_modules/.pnpm/jest-extended@1.2.1/node_modules/jest-extended/dist/matchers/toInclude/index.js:19:39)\n    at __EXTERNAL_MATCHER_TRAP__ (/work/node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:386:30)\n    at Object.toInclude (/work/node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:387:15)\n    at Object.<anonymous> (/work/test/development/acceptance-app/unsupported-app-features.test.ts:34:52)"
                ],
                "fullName": "Error Overlay unsupported app features should show error exporting AMP config in app dir",
                "location": null,
                "status": "failed",
                "title": "should show error exporting AMP config in app dir"
              }
            ],
            "endTime": 1676026745592,
            "message": "  ● Error Overlay unsupported app features › should show error exporting AMP config in app dir\n\n    TypeError: Cannot read properties of null (reading 'includes')\n\n      32 |\n      33 |       await session.hasRedbox(true)\n    > 34 |       expect(await session.getRedboxDescription()).toInclude(\n         |                                                    ^\n      35 |         'AMP is not supported in the app directory. If you need to use AMP it will continue to be supported in the pages directory.'\n      36 |       )\n      37 |\n\n      at _default (../node_modules/.pnpm/jest-extended@1.2.1/node_modules/jest-extended/dist/matchers/toInclude/predicate.js:8:46)\n      at __EXTERNAL_MATCHER_TRAP__ (../node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:386:30)\n      at Object.toInclude (../node_modules/.pnpm/expect@27.5.1/node_modules/expect/build/index.js:387:15)\n      at Object.<anonymous> (development/acceptance-app/unsupported-app-features.test.ts:34:52)\n",
            "name": "/work/test/development/acceptance-app/unsupported-app-features.test.ts",
            "startTime": 1676026646492,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (18, 1)",
      "name": "test/e2e/manual-client-base-path/index.test.ts",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 3,
        "numPassedTestSuites": 0,
        "numPassedTests": 0,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 3,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676027798097,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "@next/font/google with-font-declarations-file"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 4\nReceived: 0\n    at Object.<anonymous> (/work/test/e2e/next-font/with-font-declarations-file.test.ts:59:43)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
                ],
                "fullName": "@next/font/google with-font-declarations-file preload correct files at /inter",
                "location": null,
                "status": "failed",
                "title": "preload correct files at /inter"
              },
              {
                "ancestorTitles": [
                  "@next/font/google with-font-declarations-file"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 4\nReceived: 0\n    at Object.<anonymous> (/work/test/e2e/next-font/with-font-declarations-file.test.ts:93:43)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
                ],
                "fullName": "@next/font/google with-font-declarations-file preload correct files at /roboto",
                "location": null,
                "status": "failed",
                "title": "preload correct files at /roboto"
              },
              {
                "ancestorTitles": [
                  "@next/font/google with-font-declarations-file"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 4\nReceived: 0\n    at Object.<anonymous> (/work/test/e2e/next-font/with-font-declarations-file.test.ts:127:43)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
                ],
                "fullName": "@next/font/google with-font-declarations-file preload correct files at /local-font",
                "location": null,
                "status": "failed",
                "title": "preload correct files at /local-font"
              }
            ],
            "endTime": 1676027822702,
            "message": "  ● @next/font/google with-font-declarations-file › preload correct files at /inter\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 4\n    Received: 0\n\n      57 |     if (isDev) {\n      58 |       // In dev all fonts will be preloaded since it's before DCE\n    > 59 |       expect($('link[as=\"font\"]').length).toBe(4)\n         |                                           ^\n      60 |     } else {\n      61 |       // Preload\n      62 |       expect($('link[as=\"font\"]').length).toBe(2)\n\n      at Object.<anonymous> (e2e/next-font/with-font-declarations-file.test.ts:59:43)\n\n  ● @next/font/google with-font-declarations-file › preload correct files at /roboto\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 4\n    Received: 0\n\n      91 |     if (isDev) {\n      92 |       // In dev all fonts will be preloaded since it's before DCE\n    > 93 |       expect($('link[as=\"font\"]').length).toBe(4)\n         |                                           ^\n      94 |     } else {\n      95 |       // Preload\n      96 |       expect($('link[as=\"font\"]').length).toBe(2)\n\n      at Object.<anonymous> (e2e/next-font/with-font-declarations-file.test.ts:93:43)\n\n  ● @next/font/google with-font-declarations-file › preload correct files at /local-font\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 4\n    Received: 0\n\n      125 |     if (isDev) {\n      126 |       // In dev all fonts will be preloaded since it's before DCE\n    > 127 |       expect($('link[as=\"font\"]').length).toBe(4)\n          |                                           ^\n      128 |     } else {\n      129 |       // Preload\n      130 |       expect($('link[as=\"font\"]').length).toBe(2)\n\n      at Object.<anonymous> (e2e/next-font/with-font-declarations-file.test.ts:127:43)\n",
            "name": "/work/test/e2e/next-font/with-font-declarations-file.test.ts",
            "startTime": 1676027798208,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (18, 1)",
      "name": "test/integration/hashbang/test/index.test.js",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 1,
        "numPassedTestSuites": 0,
        "numPassedTests": 12,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 13,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676028162258,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /blog/another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /blog/first-post/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/first-post/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /catch-all/hello/world/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/hello/world/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /catch-all/first/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/first/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash dev mode should route to /another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "dev mode"
                ],
                "failureMessages": [
                  "page.waitForSelector: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator('#slug')\n============================================================\n    at /work/test/lib/browsers/playwright.ts:331:10"
                ],
                "fullName": "href resolving trailing-slash dev mode should route to /top-level-slug/ correctly",
                "location": null,
                "status": "failed",
                "title": "should route to /top-level-slug/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /blog/another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /blog/first-post/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /blog/first-post/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /catch-all/hello/world/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/hello/world/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /catch-all/first/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /catch-all/first/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /another/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /another/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should route to /top-level-slug/ correctly",
                "location": null,
                "status": "passed",
                "title": "should route to /top-level-slug/ correctly"
              },
              {
                "ancestorTitles": [
                  "href resolving trailing-slash",
                  "production mode"
                ],
                "failureMessages": [],
                "fullName": "href resolving trailing-slash production mode should preload SSG routes correctly",
                "location": null,
                "status": "passed",
                "title": "should preload SSG routes correctly"
              }
            ],
            "endTime": 1676028286495,
            "message": "  ● href resolving trailing-slash › dev mode › should route to /top-level-slug/ correctly\n\n    page.waitForSelector: Timeout 30000ms exceeded.\n    =========================== logs ===========================\n    waiting for locator('#slug')\n    ============================================================\n\n      329 |     return this.chain(() => {\n      330 |       return page\n    > 331 |         .waitForSelector(selector, { timeout, state: 'attached' })\n          |          ^\n      332 |         .then(async (el) => {\n      333 |           // it seems selenium waits longer and tests rely on this behavior\n      334 |           // so we wait for the load event fire before returning\n\n      at lib/browsers/playwright.ts:331:10\n",
            "name": "/work/test/integration/trailing-slashes-href-resolving/test/index.test.js",
            "startTime": 1676028162367,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (18, 2)",
      "name": "test/development/acceptance-app/editor-links.test.ts",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 11,
        "numPassedTestSuites": 0,
        "numPassedTests": 0,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 11,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676026715939,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:32:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when getServerSideProps is used",
                "location": null,
                "status": "failed",
                "title": "should throw an error when getServerSideProps is used"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:56:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when getStaticProps is used",
                "location": null,
                "status": "failed",
                "title": "should throw an error when getStaticProps is used"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:76:45)"
                ],
                "fullName": "Error overlay - RSC build errors should error for styled-jsx imports on server side",
                "location": null,
                "status": "failed",
                "title": "should error for styled-jsx imports on server side"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:104:45)"
                ],
                "fullName": "Error overlay - RSC build errors should error when page component export is not valid",
                "location": null,
                "status": "failed",
                "title": "should error when page component export is not valid"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:124:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when \"use client\" is on the top level but after other expressions",
                "location": null,
                "status": "failed",
                "title": "should throw an error when \"use client\" is on the top level but after other expressions"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: Application is in inconsistent state: timeout.\n    at Object.patch (/work/test/development/acceptance-app/helpers.ts:78:19)\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:145:7)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when \"Component\" is imported in server components",
                "location": null,
                "status": "failed",
                "title": "should throw an error when \"Component\" is imported in server components"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toInclude(expected)\n\nExpected string to include:\n  \"You're importing a component that imports client-only. It only works in a Client Component but none of its parents are marked with \\\"use client\\\", so they're Server Components by default.\"\nReceived:\n  \"error - [resolve] [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js  Error resolving EcmaScript Modules request\n  unable to resolve module \\\"client-only\\\"···\n  | It was not possible to find the requested file.\n  | Parsed request as written in source code: module \\\"client-only\\\"\n  | Path where resolving has started: [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js\n  | Type of request: EcmaScript Modules request\n  | Import map: No import map entry\n  |·\n\"\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:172:47)"
                ],
                "fullName": "Error overlay - RSC build errors should allow to use and handle rsc poisoning client-only",
                "location": null,
                "status": "failed",
                "title": "should allow to use and handle rsc poisoning client-only"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: Application is in inconsistent state: timeout.\n    at Object.patch (/work/test/development/acceptance-app/helpers.ts:78:19)\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:194:7)"
                ],
                "fullName": "Error overlay - RSC build errors should allow to use and handle rsc poisoning server-only",
                "location": null,
                "status": "failed",
                "title": "should allow to use and handle rsc poisoning server-only"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:218:45)"
                ],
                "fullName": "Error overlay - RSC build errors should error for invalid undefined module retuning from next dynamic",
                "location": null,
                "status": "failed",
                "title": "should error for invalid undefined module retuning from next dynamic"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:239:45)"
                ],
                "fullName": "Error overlay - RSC build errors should throw an error when error file is a server component",
                "location": null,
                "status": "failed",
                "title": "should throw an error when error file is a server component"
              },
              {
                "ancestorTitles": [
                  "Error overlay - RSC build errors"
                ],
                "failureMessages": [
                  "Error: Application is in inconsistent state: timeout.\n    at Object.patch (/work/test/development/acceptance-app/helpers.ts:78:19)\n    at Object.<anonymous> (/work/test/development/acceptance-app/rsc-build-errors.test.ts:303:7)"
                ],
                "fullName": "Error overlay - RSC build errors should be possible to open the import trace files in your editor",
                "location": null,
                "status": "failed",
                "title": "should be possible to open the import trace files in your editor"
              }
            ],
            "endTime": 1676027238911,
            "message": "  ● Error overlay - RSC build errors › should throw an error when getServerSideProps is used\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      30 |       await session.patch(pageFile, uncomment)\n      31 |\n    > 32 |       expect(await session.hasRedbox(true)).toBe(true)\n         |                                             ^\n      33 |       expect(await session.getRedboxSource()).toInclude(\n      34 |         '\"getServerSideProps\" is not supported in app/'\n      35 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:32:45)\n\n  ● Error overlay - RSC build errors › should throw an error when getStaticProps is used\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      54 |       await next.patchFile(pageFile, content)\n      55 |\n    > 56 |       expect(await session.hasRedbox(true)).toBe(true)\n         |                                             ^\n      57 |       expect(await session.getRedboxSource()).toInclude(\n      58 |         '\"getStaticProps\" is not supported in app/'\n      59 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:56:45)\n\n  ● Error overlay - RSC build errors › should error for styled-jsx imports on server side\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      74 |       await session.patch(pageFile, withoutUseClient)\n      75 |\n    > 76 |       expect(await session.hasRedbox(true)).toBe(true)\n         |                                             ^\n      77 |       expect(await session.getRedboxSource()).toMatchInlineSnapshot(`\n      78 |         \"app/server-with-errors/styled-jsx/comp2.js\n      79 |         'client-only' cannot be imported from a Server Component module. It should only be used from a Client Component.\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:76:45)\n\n  ● Error overlay - RSC build errors › should error when page component export is not valid\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      102 |       )\n      103 |\n    > 104 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      105 |       expect(await session.getRedboxDescription()).toInclude(\n      106 |         'The default export is not a React Component in page:'\n      107 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:104:45)\n\n  ● Error overlay - RSC build errors › should throw an error when \"use client\" is on the top level but after other expressions\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      122 |       await next.patchFile(pageFile, uncomment)\n      123 |\n    > 124 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      125 |       expect(await session.getRedboxSource()).toInclude(\n      126 |         'directive must be placed before other expressions'\n      127 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:124:45)\n\n  ● Error overlay - RSC build errors › should throw an error when \"Component\" is imported in server components\n\n    Application is in inconsistent state: timeout.\n\n      76 |           }\n      77 |           if (status !== 'pending') {\n    > 78 |             throw new Error(`Application is in inconsistent state: ${status}.`)\n         |                   ^\n      79 |           }\n      80 |\n      81 |           await new Promise((resolve) => setTimeout(resolve, 30))\n\n      at Object.patch (development/acceptance-app/helpers.ts:78:19)\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:145:7)\n\n  ● Error overlay - RSC build errors › should allow to use and handle rsc poisoning client-only\n\n    expect(received).toInclude(expected)\n\n    Expected string to include:\n      \"You're importing a component that imports client-only. It only works in a Client Component but none of its parents are marked with \\\"use client\\\", so they're Server Components by default.\"\n    Received:\n      \"error - [resolve] [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js  Error resolving EcmaScript Modules request\n      unable to resolve module \\\"client-only\\\"···\n      | It was not possible to find the requested file.\n      | Parsed request as written in source code: module \\\"client-only\\\"\n      | Path where resolving has started: [project-with-next]/app/server-with-errors/client-only-in-server/client-only-lib.js\n      | Type of request: EcmaScript Modules request\n      | Import map: No import map entry\n      |·\n    \"\n\n      170 |\n      171 |       expect(await session.hasRedbox(true)).toBe(true)\n    > 172 |       expect(await session.getRedboxSource()).toInclude(\n          |                                               ^\n      173 |         `You're importing a component that imports client-only. It only works in a Client Component but none of its parents are marked with \"use client\", so they're Server Components by default.`\n      174 |       )\n      175 |\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:172:47)\n\n  ● Error overlay - RSC build errors › should allow to use and handle rsc poisoning server-only\n\n    Application is in inconsistent state: timeout.\n\n      76 |           }\n      77 |           if (status !== 'pending') {\n    > 78 |             throw new Error(`Application is in inconsistent state: ${status}.`)\n         |                   ^\n      79 |           }\n      80 |\n      81 |           await new Promise((resolve) => setTimeout(resolve, 30))\n\n      at Object.patch (development/acceptance-app/helpers.ts:78:19)\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:194:7)\n\n  ● Error overlay - RSC build errors › should error for invalid undefined module retuning from next dynamic\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      216 |       )\n      217 |\n    > 218 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      219 |       expect(await session.getRedboxDescription()).toInclude(\n      220 |         `Element type is invalid. Received a promise that resolves to: undefined. Lazy element type must resolve to a class or function.`\n      221 |       )\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:218:45)\n\n  ● Error overlay - RSC build errors › should throw an error when error file is a server component\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      237 |       )\n      238 |\n    > 239 |       expect(await session.hasRedbox(true)).toBe(true)\n          |                                             ^\n      240 |       expect(await session.getRedboxSource()).toMatchInlineSnapshot(`\n      241 |         \"./app/server-with-errors/error-file/error.js\n      242 |         ReactServerComponentsError:\n\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:239:45)\n\n  ● Error overlay - RSC build errors › should be possible to open the import trace files in your editor\n\n    Application is in inconsistent state: timeout.\n\n      76 |           }\n      77 |           if (status !== 'pending') {\n    > 78 |             throw new Error(`Application is in inconsistent state: ${status}.`)\n         |                   ^\n      79 |           }\n      80 |\n      81 |           await new Promise((resolve) => setTimeout(resolve, 30))\n\n      at Object.patch (development/acceptance-app/helpers.ts:78:19)\n      at Object.<anonymous> (development/acceptance-app/rsc-build-errors.test.ts:303:7)\n",
            "name": "/work/test/development/acceptance-app/rsc-build-errors.test.ts",
            "startTime": 1676026716033,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (18, 2)",
      "name": "test/e2e/app-dir/app-alias/app-alias.test.ts",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 4,
        "numPassedTestSuites": 0,
        "numPassedTests": 4,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 8,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676028062920,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "beforeInteractive in document Head"
                ],
                "failureMessages": [],
                "fullName": "beforeInteractive in document Head Script is injected server-side",
                "location": null,
                "status": "passed",
                "title": "Script is injected server-side"
              },
              {
                "ancestorTitles": [
                  "beforeInteractive in document body"
                ],
                "failureMessages": [],
                "fullName": "beforeInteractive in document body Script is injected server-side",
                "location": null,
                "status": "passed",
                "title": "Script is injected server-side"
              },
              {
                "ancestorTitles": [
                  "experimental.nextScriptWorkers: false with no Partytown dependency"
                ],
                "failureMessages": [],
                "fullName": "experimental.nextScriptWorkers: false with no Partytown dependency Partytown snippet is not injected to head if not enabled in configuration",
                "location": null,
                "status": "passed",
                "title": "Partytown snippet is not injected to head if not enabled in configuration"
              },
              {
                "ancestorTitles": [
                  "experimental.nextScriptWorkers: true with required Partytown dependency for external script"
                ],
                "failureMessages": [
                  "Error: expect(received).not.toEqual(expected) // deep equality\n\nExpected: not null\n\n    at Object.<anonymous> (/work/test/e2e/next-script/index.test.ts:224:33)"
                ],
                "fullName": "experimental.nextScriptWorkers: true with required Partytown dependency for external script Partytown snippets are injected to head if enabled in configuration",
                "location": null,
                "status": "failed",
                "title": "Partytown snippets are injected to head if enabled in configuration"
              },
              {
                "ancestorTitles": [
                  "experimental.nextScriptWorkers: true with required Partytown dependency for external script"
                ],
                "failureMessages": [
                  "Error: TIMED OUT: success\n\n0\n    at check (/work/test/lib/next-test-utils.js:561:11)\n    at Object.<anonymous> (/work/test/e2e/next-script/index.test.ts:243:7)"
                ],
                "fullName": "experimental.nextScriptWorkers: true with required Partytown dependency for external script Worker scripts are modified by Partytown to execute on a worker thread",
                "location": null,
                "status": "failed",
                "title": "Worker scripts are modified by Partytown to execute on a worker thread"
              },
              {
                "ancestorTitles": [
                  "experimental.nextScriptWorkers: true with required Partytown dependency for inline script"
                ],
                "failureMessages": [
                  "Error: TIMED OUT: 1\n\n0\n    at check (/work/test/lib/next-test-utils.js:561:11)\n    at Object.<anonymous> (/work/test/e2e/next-script/index.test.ts:296:7)"
                ],
                "fullName": "experimental.nextScriptWorkers: true with required Partytown dependency for inline script Inline worker script through children is modified by Partytown to execute on a worker thread",
                "location": null,
                "status": "failed",
                "title": "Inline worker script through children is modified by Partytown to execute on a worker thread"
              },
              {
                "ancestorTitles": [
                  "experimental.nextScriptWorkers: true with required Partytown dependency for inline script"
                ],
                "failureMessages": [
                  "Error: TIMED OUT: 1\n\n0\n    at check (/work/test/lib/next-test-utils.js:561:11)\n    at Object.<anonymous> (/work/test/e2e/next-script/index.test.ts:323:7)"
                ],
                "fullName": "experimental.nextScriptWorkers: true with required Partytown dependency for inline script Inline worker script through dangerouslySetInnerHtml is modified by Partytown to execute on a worker thread",
                "location": null,
                "status": "failed",
                "title": "Inline worker script through dangerouslySetInnerHtml is modified by Partytown to execute on a worker thread"
              },
              {
                "ancestorTitles": [
                  "experimental.nextScriptWorkers: true with config override"
                ],
                "failureMessages": [],
                "fullName": "experimental.nextScriptWorkers: true with config override Partytown config script is overwritten",
                "location": null,
                "status": "passed",
                "title": "Partytown config script is overwritten"
              }
            ],
            "endTime": 1676028387950,
            "message": "  ● experimental.nextScriptWorkers: true with required Partytown dependency for external script › Partytown snippets are injected to head if enabled in configuration\n\n    expect(received).not.toEqual(expected) // deep equality\n\n    Expected: not null\n\n      222 |       )\n      223 |\n    > 224 |       expect(snippetScript).not.toEqual(null)\n          |                                 ^\n      225 |\n      226 |       // A default config is included that points to the correct folder that hosts partytown's static files\n      227 |       expect(configScript).not.toEqual(null)\n\n      at Object.<anonymous> (e2e/next-script/index.test.ts:224:33)\n\n  ● experimental.nextScriptWorkers: true with required Partytown dependency for external script › Worker scripts are modified by Partytown to execute on a worker thread\n\n    TIMED OUT: success\n\n    0\n\n      559 |\n      560 |   if (hardError) {\n    > 561 |     throw new Error('TIMED OUT: ' + regex + '\\n\\n' + content)\n          |           ^\n      562 |   }\n      563 |   return false\n      564 | }\n\n      at check (lib/next-test-utils.js:561:11)\n      at Object.<anonymous> (e2e/next-script/index.test.ts:243:7)\n\n  ● experimental.nextScriptWorkers: true with required Partytown dependency for inline script › Inline worker script through children is modified by Partytown to execute on a worker thread\n\n    TIMED OUT: 1\n\n    0\n\n      559 |\n      560 |   if (hardError) {\n    > 561 |     throw new Error('TIMED OUT: ' + regex + '\\n\\n' + content)\n          |           ^\n      562 |   }\n      563 |   return false\n      564 | }\n\n      at check (lib/next-test-utils.js:561:11)\n      at Object.<anonymous> (e2e/next-script/index.test.ts:296:7)\n\n  ● experimental.nextScriptWorkers: true with required Partytown dependency for inline script › Inline worker script through dangerouslySetInnerHtml is modified by Partytown to execute on a worker thread\n\n    TIMED OUT: 1\n\n    0\n\n      559 |\n      560 |   if (hardError) {\n    > 561 |     throw new Error('TIMED OUT: ' + regex + '\\n\\n' + content)\n          |           ^\n      562 |   }\n      563 |   return false\n      564 | }\n\n      at check (lib/next-test-utils.js:561:11)\n      at Object.<anonymous> (e2e/next-script/index.test.ts:323:7)\n",
            "name": "/work/test/e2e/next-script/index.test.ts",
            "startTime": 1676028063014,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    },
    {
      "job": "Execute Next.js integration workflow / Next.js integration test (18, 2)",
      "name": "test/integration/config/test/index.test.js",
      "data": {
        "numFailedTestSuites": 1,
        "numFailedTests": 11,
        "numPassedTestSuites": 0,
        "numPassedTests": 31,
        "numPendingTestSuites": 0,
        "numPendingTests": 0,
        "numRuntimeErrorTestSuites": 0,
        "numTodoTests": 0,
        "numTotalTestSuites": 1,
        "numTotalTests": 42,
        "openHandles": [],
        "snapshot": {
          "added": 0,
          "didUpdate": false,
          "failure": false,
          "filesAdded": 0,
          "filesRemoved": 0,
          "filesRemovedList": [],
          "filesUnmatched": 0,
          "filesUpdated": 0,
          "matched": 0,
          "total": 0,
          "unchecked": 0,
          "uncheckedKeysByFile": [],
          "unmatched": 0,
          "updated": 0
        },
        "startTime": 1676028998529,
        "success": false,
        "testResults": [
          {
            "assertionResults": [
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can print telemetry status",
                "location": null,
                "status": "passed",
                "title": "can print telemetry status"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can enable telemetry with flag",
                "location": null,
                "status": "passed",
                "title": "can enable telemetry with flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can disable telemetry with flag",
                "location": null,
                "status": "passed",
                "title": "can disable telemetry with flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can enable telemetry without flag",
                "location": null,
                "status": "passed",
                "title": "can enable telemetry without flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can re-enable telemetry",
                "location": null,
                "status": "passed",
                "title": "can re-enable telemetry"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can disable telemetry without flag",
                "location": null,
                "status": "passed",
                "title": "can disable telemetry without flag"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can re-disable telemetry",
                "location": null,
                "status": "passed",
                "title": "can re-disable telemetry"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI can disable telemetry with env NEXT_TELEMETRY_DISABLED",
                "location": null,
                "status": "passed",
                "title": "can disable telemetry with env NEXT_TELEMETRY_DISABLED"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detects isSrcDir dir correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detects isSrcDir dir correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits event when swc fails to load",
                "location": null,
                "status": "passed",
                "title": "emits event when swc fails to load"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI logs completed `next build` with warnings",
                "location": null,
                "status": "passed",
                "title": "logs completed `next build` with warnings"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detects tests correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detects tests correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: expect(received).toMatch(expected)\n\nExpected pattern: /\"hasNextConfig\": false/\nReceived string:  \"\n    \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n    \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n    \\\"cliCommand\\\": \\\"build\\\",\n    \\\"isSrcDir\\\": false,\n    \\\"hasNowJson\\\": false,\n    \\\"isCustomServer\\\": null,\n    \\\"hasNextConfig\\\": true,\n    \\\"buildTarget\\\": \\\"default\\\",\n    \\\"hasWebpackConfig\\\": false,\n    \\\"hasBabelConfig\\\": false,\n    \\\"imageEnabled\\\": true,\n    \\\"imageFutureEnabled\\\": true,\n    \\\"basePathEnabled\\\": false,\n    \\\"i18nEnabled\\\": false,\n    \\\"locales\\\": null,\n    \\\"localeDomainsCount\\\": null,\n    \\\"localeDetectionEnabled\\\": null,\n    \\\"imageDomainsCount\\\": 0,\n    \\\"imageRemotePatternsCount\\\": 0,\n    \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n    \\\"imageLoader\\\": \\\"default\\\",\n    \\\"imageFormats\\\": \\\"image/webp\\\",\n    \\\"trailingSlashEnabled\\\": false,\n    \\\"reactStrictMode\\\": false,\n    \\\"webpackVersion\\\": 5,\n    \\\"turboFlag\\\": false,\n    \\\"appDir\\\": true,\n    \\\"pagesDir\\\": true\n  \"\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:209:19)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"
                ],
                "fullName": "Telemetry CLI detects correct cli session defaults",
                "location": null,
                "status": "failed",
                "title": "detects correct cli session defaults"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: expect(received).toMatch(expected)\n\nExpected pattern: /\"hasNextConfig\": false/\nReceived string:  \"\n    \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n    \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n    \\\"cliCommand\\\": \\\"build\\\",\n    \\\"isSrcDir\\\": false,\n    \\\"hasNowJson\\\": false,\n    \\\"isCustomServer\\\": null,\n    \\\"hasNextConfig\\\": true,\n    \\\"buildTarget\\\": \\\"default\\\",\n    \\\"hasWebpackConfig\\\": false,\n    \\\"hasBabelConfig\\\": false,\n    \\\"imageEnabled\\\": true,\n    \\\"imageFutureEnabled\\\": true,\n    \\\"basePathEnabled\\\": false,\n    \\\"i18nEnabled\\\": false,\n    \\\"locales\\\": null,\n    \\\"localeDomainsCount\\\": null,\n    \\\"localeDetectionEnabled\\\": null,\n    \\\"imageDomainsCount\\\": 0,\n    \\\"imageRemotePatternsCount\\\": 0,\n    \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n    \\\"imageLoader\\\": \\\"default\\\",\n    \\\"imageFormats\\\": \\\"image/webp\\\",\n    \\\"trailingSlashEnabled\\\": false,\n    \\\"reactStrictMode\\\": false,\n    \\\"webpackVersion\\\": 5,\n    \\\"turboFlag\\\": false,\n    \\\"appDir\\\": true,\n    \\\"pagesDir\\\": true\n  \"\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:235:19)"
                ],
                "fullName": "Telemetry CLI cli session: babel tooling config",
                "location": null,
                "status": "failed",
                "title": "cli session: babel tooling config"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: expect(received).toMatch(expected)\n\nExpected pattern: /\"hasNextConfig\": false/\nReceived string:  \"\n    \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n    \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n    \\\"cliCommand\\\": \\\"build\\\",\n    \\\"isSrcDir\\\": false,\n    \\\"hasNowJson\\\": false,\n    \\\"isCustomServer\\\": null,\n    \\\"hasNextConfig\\\": true,\n    \\\"buildTarget\\\": \\\"default\\\",\n    \\\"hasWebpackConfig\\\": false,\n    \\\"hasBabelConfig\\\": true,\n    \\\"imageEnabled\\\": true,\n    \\\"imageFutureEnabled\\\": true,\n    \\\"basePathEnabled\\\": false,\n    \\\"i18nEnabled\\\": false,\n    \\\"locales\\\": null,\n    \\\"localeDomainsCount\\\": null,\n    \\\"localeDetectionEnabled\\\": null,\n    \\\"imageDomainsCount\\\": 0,\n    \\\"imageRemotePatternsCount\\\": 0,\n    \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n    \\\"imageLoader\\\": \\\"default\\\",\n    \\\"imageFormats\\\": \\\"image/webp\\\",\n    \\\"trailingSlashEnabled\\\": false,\n    \\\"reactStrictMode\\\": false,\n    \\\"webpackVersion\\\": 5,\n    \\\"turboFlag\\\": false,\n    \\\"appDir\\\": true,\n    \\\"pagesDir\\\": true\n  \"\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:261:19)"
                ],
                "fullName": "Telemetry CLI cli session: custom babel config (plugin)",
                "location": null,
                "status": "failed",
                "title": "cli session: custom babel config (plugin)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: expect(received).toMatch(expected)\n\nExpected pattern: /\"hasNextConfig\": false/\nReceived string:  \"\n    \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n    \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n    \\\"cliCommand\\\": \\\"build\\\",\n    \\\"isSrcDir\\\": false,\n    \\\"hasNowJson\\\": false,\n    \\\"isCustomServer\\\": null,\n    \\\"hasNextConfig\\\": true,\n    \\\"buildTarget\\\": \\\"default\\\",\n    \\\"hasWebpackConfig\\\": false,\n    \\\"hasBabelConfig\\\": true,\n    \\\"imageEnabled\\\": true,\n    \\\"imageFutureEnabled\\\": true,\n    \\\"basePathEnabled\\\": false,\n    \\\"i18nEnabled\\\": false,\n    \\\"locales\\\": null,\n    \\\"localeDomainsCount\\\": null,\n    \\\"localeDetectionEnabled\\\": null,\n    \\\"imageDomainsCount\\\": 0,\n    \\\"imageRemotePatternsCount\\\": 0,\n    \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n    \\\"imageLoader\\\": \\\"default\\\",\n    \\\"imageFormats\\\": \\\"image/webp\\\",\n    \\\"trailingSlashEnabled\\\": false,\n    \\\"reactStrictMode\\\": false,\n    \\\"webpackVersion\\\": 5,\n    \\\"turboFlag\\\": false,\n    \\\"appDir\\\": true,\n    \\\"pagesDir\\\": true\n  \"\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:287:19)"
                ],
                "fullName": "Telemetry CLI cli session: package.json custom babel config (plugin)",
                "location": null,
                "status": "failed",
                "title": "cli session: package.json custom babel config (plugin)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: expect(received).toMatch(expected)\n\nExpected pattern: /\"hasNextConfig\": false/\nReceived string:  \"\n    \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n    \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n    \\\"cliCommand\\\": \\\"build\\\",\n    \\\"isSrcDir\\\": false,\n    \\\"hasNowJson\\\": false,\n    \\\"isCustomServer\\\": null,\n    \\\"hasNextConfig\\\": true,\n    \\\"buildTarget\\\": \\\"default\\\",\n    \\\"hasWebpackConfig\\\": false,\n    \\\"hasBabelConfig\\\": true,\n    \\\"imageEnabled\\\": true,\n    \\\"imageFutureEnabled\\\": true,\n    \\\"basePathEnabled\\\": false,\n    \\\"i18nEnabled\\\": false,\n    \\\"locales\\\": null,\n    \\\"localeDomainsCount\\\": null,\n    \\\"localeDetectionEnabled\\\": null,\n    \\\"imageDomainsCount\\\": 0,\n    \\\"imageRemotePatternsCount\\\": 0,\n    \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n    \\\"imageLoader\\\": \\\"default\\\",\n    \\\"imageFormats\\\": \\\"image/webp\\\",\n    \\\"trailingSlashEnabled\\\": false,\n    \\\"reactStrictMode\\\": false,\n    \\\"webpackVersion\\\": 5,\n    \\\"turboFlag\\\": false,\n    \\\"appDir\\\": true,\n    \\\"pagesDir\\\": true\n  \"\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:313:19)"
                ],
                "fullName": "Telemetry CLI cli session: custom babel config (preset)",
                "location": null,
                "status": "failed",
                "title": "cli session: custom babel config (preset)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI cli session: next config with webpack",
                "location": null,
                "status": "passed",
                "title": "cli session: next config with webpack"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detect static 404 correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detect static 404 correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detect page counts correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detect page counts correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: expect(received).toMatch(expected)\n\nExpected pattern: /isSrcDir.*?false/\nReceived string:  \"warn  - The `app` directory is experimental. To enable, add `appDir: true` to your `next.config.js` configuration under `experimental`. See https://nextjs.org/docs/messages/experimental-app-dir-config\nLoading custom turbopack binary from /work/next-dev\nRunning turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 45127 --root /work --no-open]\n\"\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:389:20)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"
                ],
                "fullName": "Telemetry CLI detects isSrcDir dir correctly for `next dev`",
                "location": null,
                "status": "failed",
                "title": "detects isSrcDir dir correctly for `next dev`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'"
                ],
                "fullName": "Telemetry CLI detects --turbo correctly for `next dev`",
                "location": null,
                "status": "failed",
                "title": "detects --turbo correctly for `next dev`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'"
                ],
                "fullName": "Telemetry CLI detects --turbo correctly for `next dev` stopped",
                "location": null,
                "status": "failed",
                "title": "detects --turbo correctly for `next dev` stopped"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'"
                ],
                "fullName": "Telemetry CLI detects correctly for `next dev` stopped (no turbo)",
                "location": null,
                "status": "failed",
                "title": "detects correctly for `next dev` stopped (no turbo)"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "Error: EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'"
                ],
                "fullName": "Telemetry CLI should detect app page counts",
                "location": null,
                "status": "failed",
                "title": "should detect app page counts"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detect reportWebVitals correctly for `next build`",
                "location": null,
                "status": "passed",
                "title": "detect reportWebVitals correctly for `next build`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI detects rewrites, headers, and redirects for next build",
                "location": null,
                "status": "passed",
                "title": "detects rewrites, headers, and redirects for next build"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [
                  "TypeError: Cannot read properties of null (reading 'pop')\n    at Object.<anonymous> (/work/test/integration/telemetry/test/index.test.js:761:13)"
                ],
                "fullName": "Telemetry CLI detects i18n and image configs for session start",
                "location": null,
                "status": "failed",
                "title": "detects i18n and image configs for session start"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for lint during build",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for lint during build"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for lint during build when '--no-lint' is specified",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for lint during build when '--no-lint' is specified"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for lint during build when 'ignoreDuringBuilds' is specified",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for lint during build when 'ignoreDuringBuilds' is specified"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for `next lint`",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for `next lint`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemery for usage of optimizeFonts, image, script & dynamic",
                "location": null,
                "status": "passed",
                "title": "emits telemery for usage of optimizeFonts, image, script & dynamic"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of swc",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of swc"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of `optimizeCss`",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of `optimizeCss`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of `nextScriptWorkers`",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of `nextScriptWorkers`"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of middleware",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of middleware"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of swc plugins",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of swc plugins"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of next/legacy/image",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of next/legacy/image"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for usage of @vercel/og",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for usage of @vercel/og"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for transpilePackages",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for transpilePackages"
              },
              {
                "ancestorTitles": [
                  "Telemetry CLI"
                ],
                "failureMessages": [],
                "fullName": "Telemetry CLI emits telemetry for middleware related options",
                "location": null,
                "status": "passed",
                "title": "emits telemetry for middleware related options"
              }
            ],
            "endTime": 1676029315191,
            "message": "  ● Telemetry CLI › detects correct cli session defaults\n\n    expect(received).toMatch(expected)\n\n    Expected pattern: /\"hasNextConfig\": false/\n    Received string:  \"\n        \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n        \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n        \\\"cliCommand\\\": \\\"build\\\",\n        \\\"isSrcDir\\\": false,\n        \\\"hasNowJson\\\": false,\n        \\\"isCustomServer\\\": null,\n        \\\"hasNextConfig\\\": true,\n        \\\"buildTarget\\\": \\\"default\\\",\n        \\\"hasWebpackConfig\\\": false,\n        \\\"hasBabelConfig\\\": false,\n        \\\"imageEnabled\\\": true,\n        \\\"imageFutureEnabled\\\": true,\n        \\\"basePathEnabled\\\": false,\n        \\\"i18nEnabled\\\": false,\n        \\\"locales\\\": null,\n        \\\"localeDomainsCount\\\": null,\n        \\\"localeDetectionEnabled\\\": null,\n        \\\"imageDomainsCount\\\": 0,\n        \\\"imageRemotePatternsCount\\\": 0,\n        \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n        \\\"imageLoader\\\": \\\"default\\\",\n        \\\"imageFormats\\\": \\\"image/webp\\\",\n        \\\"trailingSlashEnabled\\\": false,\n        \\\"reactStrictMode\\\": false,\n        \\\"webpackVersion\\\": 5,\n        \\\"turboFlag\\\": false,\n        \\\"appDir\\\": true,\n        \\\"pagesDir\\\": true\n      \"\n\n      207 |       .pop()\n      208 |\n    > 209 |     expect(event).toMatch(/\"hasNextConfig\": false/)\n          |                   ^\n      210 |     expect(event).toMatch(/\"buildTarget\": \"default\"/)\n      211 |     expect(event).toMatch(/\"hasWebpackConfig\": false/)\n      212 |     expect(event).toMatch(/\"hasBabelConfig\": false/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:209:19)\n\n  ● Telemetry CLI › cli session: babel tooling config\n\n    expect(received).toMatch(expected)\n\n    Expected pattern: /\"hasNextConfig\": false/\n    Received string:  \"\n        \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n        \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n        \\\"cliCommand\\\": \\\"build\\\",\n        \\\"isSrcDir\\\": false,\n        \\\"hasNowJson\\\": false,\n        \\\"isCustomServer\\\": null,\n        \\\"hasNextConfig\\\": true,\n        \\\"buildTarget\\\": \\\"default\\\",\n        \\\"hasWebpackConfig\\\": false,\n        \\\"hasBabelConfig\\\": false,\n        \\\"imageEnabled\\\": true,\n        \\\"imageFutureEnabled\\\": true,\n        \\\"basePathEnabled\\\": false,\n        \\\"i18nEnabled\\\": false,\n        \\\"locales\\\": null,\n        \\\"localeDomainsCount\\\": null,\n        \\\"localeDetectionEnabled\\\": null,\n        \\\"imageDomainsCount\\\": 0,\n        \\\"imageRemotePatternsCount\\\": 0,\n        \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n        \\\"imageLoader\\\": \\\"default\\\",\n        \\\"imageFormats\\\": \\\"image/webp\\\",\n        \\\"trailingSlashEnabled\\\": false,\n        \\\"reactStrictMode\\\": false,\n        \\\"webpackVersion\\\": 5,\n        \\\"turboFlag\\\": false,\n        \\\"appDir\\\": true,\n        \\\"pagesDir\\\": true\n      \"\n\n      233 |       .pop()\n      234 |\n    > 235 |     expect(event).toMatch(/\"hasNextConfig\": false/)\n          |                   ^\n      236 |     expect(event).toMatch(/\"buildTarget\": \"default\"/)\n      237 |     expect(event).toMatch(/\"hasWebpackConfig\": false/)\n      238 |     expect(event).toMatch(/\"hasBabelConfig\": false/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:235:19)\n\n  ● Telemetry CLI › cli session: custom babel config (plugin)\n\n    expect(received).toMatch(expected)\n\n    Expected pattern: /\"hasNextConfig\": false/\n    Received string:  \"\n        \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n        \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n        \\\"cliCommand\\\": \\\"build\\\",\n        \\\"isSrcDir\\\": false,\n        \\\"hasNowJson\\\": false,\n        \\\"isCustomServer\\\": null,\n        \\\"hasNextConfig\\\": true,\n        \\\"buildTarget\\\": \\\"default\\\",\n        \\\"hasWebpackConfig\\\": false,\n        \\\"hasBabelConfig\\\": true,\n        \\\"imageEnabled\\\": true,\n        \\\"imageFutureEnabled\\\": true,\n        \\\"basePathEnabled\\\": false,\n        \\\"i18nEnabled\\\": false,\n        \\\"locales\\\": null,\n        \\\"localeDomainsCount\\\": null,\n        \\\"localeDetectionEnabled\\\": null,\n        \\\"imageDomainsCount\\\": 0,\n        \\\"imageRemotePatternsCount\\\": 0,\n        \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n        \\\"imageLoader\\\": \\\"default\\\",\n        \\\"imageFormats\\\": \\\"image/webp\\\",\n        \\\"trailingSlashEnabled\\\": false,\n        \\\"reactStrictMode\\\": false,\n        \\\"webpackVersion\\\": 5,\n        \\\"turboFlag\\\": false,\n        \\\"appDir\\\": true,\n        \\\"pagesDir\\\": true\n      \"\n\n      259 |       .pop()\n      260 |\n    > 261 |     expect(event).toMatch(/\"hasNextConfig\": false/)\n          |                   ^\n      262 |     expect(event).toMatch(/\"buildTarget\": \"default\"/)\n      263 |     expect(event).toMatch(/\"hasWebpackConfig\": false/)\n      264 |     expect(event).toMatch(/\"hasBabelConfig\": true/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:261:19)\n\n  ● Telemetry CLI › cli session: package.json custom babel config (plugin)\n\n    expect(received).toMatch(expected)\n\n    Expected pattern: /\"hasNextConfig\": false/\n    Received string:  \"\n        \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n        \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n        \\\"cliCommand\\\": \\\"build\\\",\n        \\\"isSrcDir\\\": false,\n        \\\"hasNowJson\\\": false,\n        \\\"isCustomServer\\\": null,\n        \\\"hasNextConfig\\\": true,\n        \\\"buildTarget\\\": \\\"default\\\",\n        \\\"hasWebpackConfig\\\": false,\n        \\\"hasBabelConfig\\\": true,\n        \\\"imageEnabled\\\": true,\n        \\\"imageFutureEnabled\\\": true,\n        \\\"basePathEnabled\\\": false,\n        \\\"i18nEnabled\\\": false,\n        \\\"locales\\\": null,\n        \\\"localeDomainsCount\\\": null,\n        \\\"localeDetectionEnabled\\\": null,\n        \\\"imageDomainsCount\\\": 0,\n        \\\"imageRemotePatternsCount\\\": 0,\n        \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n        \\\"imageLoader\\\": \\\"default\\\",\n        \\\"imageFormats\\\": \\\"image/webp\\\",\n        \\\"trailingSlashEnabled\\\": false,\n        \\\"reactStrictMode\\\": false,\n        \\\"webpackVersion\\\": 5,\n        \\\"turboFlag\\\": false,\n        \\\"appDir\\\": true,\n        \\\"pagesDir\\\": true\n      \"\n\n      285 |       .pop()\n      286 |\n    > 287 |     expect(event).toMatch(/\"hasNextConfig\": false/)\n          |                   ^\n      288 |     expect(event).toMatch(/\"buildTarget\": \"default\"/)\n      289 |     expect(event).toMatch(/\"hasWebpackConfig\": false/)\n      290 |     expect(event).toMatch(/\"hasBabelConfig\": true/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:287:19)\n\n  ● Telemetry CLI › cli session: custom babel config (preset)\n\n    expect(received).toMatch(expected)\n\n    Expected pattern: /\"hasNextConfig\": false/\n    Received string:  \"\n        \\\"nextVersion\\\": \\\"13.1.7-canary.8\\\",\n        \\\"nodeVersion\\\": \\\"v16.19.0\\\",\n        \\\"cliCommand\\\": \\\"build\\\",\n        \\\"isSrcDir\\\": false,\n        \\\"hasNowJson\\\": false,\n        \\\"isCustomServer\\\": null,\n        \\\"hasNextConfig\\\": true,\n        \\\"buildTarget\\\": \\\"default\\\",\n        \\\"hasWebpackConfig\\\": false,\n        \\\"hasBabelConfig\\\": true,\n        \\\"imageEnabled\\\": true,\n        \\\"imageFutureEnabled\\\": true,\n        \\\"basePathEnabled\\\": false,\n        \\\"i18nEnabled\\\": false,\n        \\\"locales\\\": null,\n        \\\"localeDomainsCount\\\": null,\n        \\\"localeDetectionEnabled\\\": null,\n        \\\"imageDomainsCount\\\": 0,\n        \\\"imageRemotePatternsCount\\\": 0,\n        \\\"imageSizes\\\": \\\"16,32,48,64,96,128,256,384\\\",\n        \\\"imageLoader\\\": \\\"default\\\",\n        \\\"imageFormats\\\": \\\"image/webp\\\",\n        \\\"trailingSlashEnabled\\\": false,\n        \\\"reactStrictMode\\\": false,\n        \\\"webpackVersion\\\": 5,\n        \\\"turboFlag\\\": false,\n        \\\"appDir\\\": true,\n        \\\"pagesDir\\\": true\n      \"\n\n      311 |       .pop()\n      312 |\n    > 313 |     expect(event).toMatch(/\"hasNextConfig\": false/)\n          |                   ^\n      314 |     expect(event).toMatch(/\"buildTarget\": \"default\"/)\n      315 |     expect(event).toMatch(/\"hasWebpackConfig\": false/)\n      316 |     expect(event).toMatch(/\"hasBabelConfig\": true/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:313:19)\n\n  ● Telemetry CLI › detects isSrcDir dir correctly for `next dev`\n\n    expect(received).toMatch(expected)\n\n    Expected pattern: /isSrcDir.*?false/\n    Received string:  \"warn  - The `app` directory is experimental. To enable, add `appDir: true` to your `next.config.js` configuration under `experimental`. See https://nextjs.org/docs/messages/experimental-app-dir-config\n    Loading custom turbopack binary from /work/next-dev\n    Running turbopack with args: [--dev /work/test/integration/telemetry --is-next-dev-command --port 45127 --root /work --no-open]\n    \"\n\n      387 |     await waitFor(1000)\n      388 |     await killApp(app)\n    > 389 |     expect(stderr).toMatch(/isSrcDir.*?false/)\n          |                    ^\n      390 |\n      391 |     await fs.move(path.join(appDir, 'pages'), path.join(appDir, 'src/pages'))\n      392 |     stderr = ''\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:389:20)\n          at runMicrotasks (<anonymous>)\n\n  ● Telemetry CLI › detects --turbo correctly for `next dev`\n\n    EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'\n\n\n\n  ● Telemetry CLI › detects --turbo correctly for `next dev` stopped\n\n    EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'\n\n\n\n  ● Telemetry CLI › detects correctly for `next dev` stopped (no turbo)\n\n    EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'\n\n\n\n  ● Telemetry CLI › should detect app page counts\n\n    EEXIST: file already exists, mkdir '/work/test/integration/telemetry/app'\n\n\n\n  ● Telemetry CLI › detects i18n and image configs for session start\n\n    TypeError: Cannot read properties of null (reading 'pop')\n\n      759 |\n      760 |     const event2 = /NEXT_CLI_SESSION_STARTED[\\s\\S]+?{([\\s\\S]+?)}/\n    > 761 |       .exec(stderr2)\n          |             ^\n      762 |       .pop()\n      763 |     expect(event2).toMatch(/\"i18nEnabled\": true/)\n      764 |     expect(event2).toMatch(/\"locales\": \"en,nl,fr\"/)\n\n      at Object.<anonymous> (integration/telemetry/test/index.test.js:761:13)\n",
            "name": "/work/test/integration/telemetry/test/index.test.js",
            "startTime": 1676028998623,
            "status": "failed",
            "summary": ""
          }
        ],
        "wasInterrupted": false
      }
    }
  ]
}